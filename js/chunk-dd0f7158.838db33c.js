(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd0f7158"],{"057f":function(t,e,n){var r=n("c6b6"),o=n("fc6a"),c=n("241c").f,a=n("4dae"),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return c(t)}catch(e){return a(i)}};t.exports.f=function(t){return i&&"Window"==r(t)?l(t):c(o(t))}},1799:function(t,e,n){"use strict";var r=n("7a23"),o={"aria-label":"Page navigation example"},c={class:"pagination justify-content-center"},a=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"«",-1),i=[a],l=["onClick"],d={class:"page-link",href:"#"},s=Object(r["createElementVNode"])("span",{"aria-hidden":"true"},"»",-1),u=[s];function b(t,e,n,a,s,b){return Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",o,[Object(r["createElementVNode"])("ul",c,[Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_pre}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(r["withModifiers"])((function(t){return b.switchPage(n.pagination.current_page-1)}),["prevent"]))},i)],2),(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(n.pagination.total_pages,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("li",{class:"page-item",key:t+1234,onClick:Object(r["withModifiers"])((function(e){return b.switchPage(t)}),["prevent"])},[Object(r["createElementVNode"])("a",d,Object(r["toDisplayString"])(t),1)],8,l)})),128)),Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])(["page-item",{disabled:!n.pagination.has_next}])},[Object(r["createElementVNode"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(r["withModifiers"])((function(t){return b.switchPage(n.pagination.current_page+1)}),["prevent"]))},u)],2)])])}var p={props:["pagination"],data:function(){return{}},methods:{switchPage:function(t){this.$emit("switch-page",t)}}},f=n("d959"),m=n.n(f);const h=m()(p,[["render",b]]);e["a"]=h},"428f":function(t,e,n){var r=n("da84");t.exports=r},"4dae":function(t,e,n){var r=n("da84"),o=n("23cb"),c=n("07fa"),a=n("8418"),i=r.Array,l=Math.max;t.exports=function(t,e,n){for(var r=c(t),d=o(e,r),s=o(void 0===n?r:n,r),u=i(l(s-d,0)),b=0;d<s;d++,b++)a(u,b,t[d]);return u.length=b,u}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,c=n("1dde"),a=c("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},"746f":function(t,e,n){var r=n("428f"),o=n("1a2d"),c=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:c.f(t)})}},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),c=n("d066"),a=n("2ba4"),i=n("c65b"),l=n("e330"),d=n("c430"),s=n("83ab"),u=n("4930"),b=n("d039"),p=n("1a2d"),f=n("e8b5"),m=n("1626"),h=n("861d"),g=n("3a9b"),O=n("d9b5"),j=n("825a"),v=n("7b0b"),y=n("fc6a"),E=n("a04b"),N=n("577e"),w=n("5c6c"),V=n("7c73"),P=n("df75"),k=n("241c"),S=n("057f"),C=n("7418"),M=n("06cf"),x=n("9bf2"),D=n("37e8"),B=n("d1e7"),_=n("f36a"),U=n("6eeb"),$=n("5692"),Q=n("f772"),q=n("d012"),z=n("90e3"),A=n("b622"),F=n("e538"),J=n("746f"),L=n("d44e"),I=n("69f3"),T=n("b727").forEach,W=Q("hidden"),G="Symbol",H="prototype",K=A("toPrimitive"),R=I.set,X=I.getterFor(G),Y=Object[H],Z=o.Symbol,tt=Z&&Z[H],et=o.TypeError,nt=o.QObject,rt=c("JSON","stringify"),ot=M.f,ct=x.f,at=S.f,it=B.f,lt=l([].push),dt=$("symbols"),st=$("op-symbols"),ut=$("string-to-symbol-registry"),bt=$("symbol-to-string-registry"),pt=$("wks"),ft=!nt||!nt[H]||!nt[H].findChild,mt=s&&b((function(){return 7!=V(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=ot(Y,e);r&&delete Y[e],ct(t,e,n),r&&t!==Y&&ct(Y,e,r)}:ct,ht=function(t,e){var n=dt[t]=V(tt);return R(n,{type:G,tag:t,description:e}),s||(n.description=e),n},gt=function(t,e,n){t===Y&&gt(st,e,n),j(t);var r=E(e);return j(n),p(dt,r)?(n.enumerable?(p(t,W)&&t[W][r]&&(t[W][r]=!1),n=V(n,{enumerable:w(0,!1)})):(p(t,W)||ct(t,W,w(1,{})),t[W][r]=!0),mt(t,r,n)):ct(t,r,n)},Ot=function(t,e){j(t);var n=y(e),r=P(n).concat(Nt(n));return T(r,(function(e){s&&!i(vt,n,e)||gt(t,e,n[e])})),t},jt=function(t,e){return void 0===e?V(t):Ot(V(t),e)},vt=function(t){var e=E(t),n=i(it,this,e);return!(this===Y&&p(dt,e)&&!p(st,e))&&(!(n||!p(this,e)||!p(dt,e)||p(this,W)&&this[W][e])||n)},yt=function(t,e){var n=y(t),r=E(e);if(n!==Y||!p(dt,r)||p(st,r)){var o=ot(n,r);return!o||!p(dt,r)||p(n,W)&&n[W][r]||(o.enumerable=!0),o}},Et=function(t){var e=at(y(t)),n=[];return T(e,(function(t){p(dt,t)||p(q,t)||lt(n,t)})),n},Nt=function(t){var e=t===Y,n=at(e?st:y(t)),r=[];return T(n,(function(t){!p(dt,t)||e&&!p(Y,t)||lt(r,dt[t])})),r};if(u||(Z=function(){if(g(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?N(arguments[0]):void 0,e=z(t),n=function(t){this===Y&&i(n,st,t),p(this,W)&&p(this[W],e)&&(this[W][e]=!1),mt(this,e,w(1,t))};return s&&ft&&mt(Y,e,{configurable:!0,set:n}),ht(e,t)},tt=Z[H],U(tt,"toString",(function(){return X(this).tag})),U(Z,"withoutSetter",(function(t){return ht(z(t),t)})),B.f=vt,x.f=gt,D.f=Ot,M.f=yt,k.f=S.f=Et,C.f=Nt,F.f=function(t){return ht(A(t),t)},s&&(ct(tt,"description",{configurable:!0,get:function(){return X(this).description}}),d||U(Y,"propertyIsEnumerable",vt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:Z}),T(P(pt),(function(t){J(t)})),r({target:G,stat:!0,forced:!u},{for:function(t){var e=N(t);if(p(ut,e))return ut[e];var n=Z(e);return ut[e]=n,bt[n]=e,n},keyFor:function(t){if(!O(t))throw et(t+" is not a symbol");if(p(bt,t))return bt[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:jt,defineProperty:gt,defineProperties:Ot,getOwnPropertyDescriptor:yt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:Et,getOwnPropertySymbols:Nt}),r({target:"Object",stat:!0,forced:b((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(v(t))}}),rt){var wt=!u||b((function(){var t=Z();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}));r({target:"JSON",stat:!0,forced:wt},{stringify:function(t,e,n){var r=_(arguments),o=e;if((h(e)||void 0!==t)&&!O(t))return f(e)||(e=function(t,e){if(m(o)&&(e=i(o,this,t,e)),!O(e))return e}),r[1]=e,a(rt,null,r)}})}if(!tt[K]){var Vt=tt.valueOf;U(tt,K,(function(t){return i(Vt,this)}))}L(Z,G),q[W]=!0},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),c=n("56ef"),a=n("fc6a"),i=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),o=i.f,d=c(r),s={},u=0;while(d.length>u)n=o(r,e=d[u++]),void 0!==n&&l(s,e,n);return s}})},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),c=n("da84"),a=n("e330"),i=n("1a2d"),l=n("1626"),d=n("3a9b"),s=n("577e"),u=n("9bf2").f,b=n("e893"),p=c.Symbol,f=p&&p.prototype;if(o&&l(p)&&(!("description"in f)||void 0!==p().description)){var m={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),e=d(f,this)?new p(t):void 0===t?p():p(t);return""===t&&(m[e]=!0),e};b(h,p),h.prototype=f,f.constructor=h;var g="Symbol(test)"==String(p("test")),O=a(f.toString),j=a(f.valueOf),v=/^Symbol\((.*)\)[^)]+$/,y=a("".replace),E=a("".slice);u(f,"description",{configurable:!0,get:function(){var t=j(this),e=O(t);if(i(m,t))return"";var n=g?E(e,7,-1):y(e,v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),c=n("fc6a"),a=n("06cf").f,i=n("83ab"),l=o((function(){a(1)})),d=!i||l;r({target:"Object",stat:!0,forced:d,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a(c(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},fd15:function(t,e,n){"use strict";n.r(e);var r=n("7a23"),o={id:"app"},c={class:"container"},a={class:"mt-4"},i={class:"table align-middle"},l=Object(r["createElementVNode"])("thead",null,[Object(r["createElementVNode"])("tr",null,[Object(r["createElementVNode"])("th",null,"圖片"),Object(r["createElementVNode"])("th",null,"商品名稱"),Object(r["createElementVNode"])("th",null,"價格"),Object(r["createElementVNode"])("th")])],-1),d={style:{width:"200px"}},s={class:"h5"},u={class:"h6"},b={class:"btn-group btn-group-sm"},p=["onClick"],f=["onClick"];function m(t,e,n,m,h,g){var O=Object(r["resolveComponent"])("ProductModal"),j=Object(r["resolveComponent"])("Pagination");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",o,[Object(r["createElementVNode"])("div",c,[Object(r["createElementVNode"])("div",a,[Object(r["createVNode"])(O,{product:h.tempProduct,onAddCarts:g.updateCarts,ref:"productModal"},null,8,["product","onAddCarts"]),Object(r["createElementVNode"])("table",i,[l,Object(r["createElementVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(h.products,(function(t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("tr",{key:t.id},[Object(r["createElementVNode"])("td",d,[Object(r["createElementVNode"])("div",{style:Object(r["normalizeStyle"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:"url(".concat(t.imageUrl,")")}])},null,4)]),Object(r["createElementVNode"])("td",null,Object(r["toDisplayString"])(t.title),1),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("div",s,Object(r["toDisplayString"])(t.price)+" 元",1),Object(r["createElementVNode"])("del",u,"原價 "+Object(r["toDisplayString"])(t.origin_price)+" 元",1)]),Object(r["createElementVNode"])("td",null,[Object(r["createElementVNode"])("div",b,[Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:function(e){return g.openProductModal(t)}}," 查看更多 ",8,p),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return g.updateCarts("add",{product_id:t.id,qty:1})}}," 加到購物車 ",8,f)])])])})),128))])]),Object(r["createVNode"])(j,{pagination:h.pagination,onSwitchPage:g.getProducts},null,8,["pagination","onSwitchPage"])])])])}var h=n("5530"),g=(n("99af"),n("3d20")),O=n.n(g),j=(n("a4d3"),n("e01a"),{class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"}),v={class:"modal-dialog modal-xl",role:"document"},y={class:"modal-content border-0"},E={class:"modal-header bg-dark text-white"},N={class:"modal-title",id:"exampleModalLabel"},w=Object(r["createElementVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),V={class:"modal-body"},P={class:"row"},k={class:"col-sm-6"},S=["src","alt"],C={class:"col-sm-6"},M={class:"badge bg-primary rounded-pill"},x={class:"h5"},D={class:"h6"},B={class:"input-group"};function _(t,e,n,o,c,a){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",j,[Object(r["createElementVNode"])("div",v,[Object(r["createElementVNode"])("div",y,[Object(r["createElementVNode"])("div",E,[Object(r["createElementVNode"])("h5",N,[Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(n.product.title),1)]),w]),Object(r["createElementVNode"])("div",V,[Object(r["createElementVNode"])("div",P,[Object(r["createElementVNode"])("div",k,[Object(r["createElementVNode"])("img",{class:"img-fluid",src:n.product.imageUrl,alt:n.product.title},null,8,S)]),Object(r["createElementVNode"])("div",C,[Object(r["createElementVNode"])("span",M,Object(r["toDisplayString"])(n.product.category),1),Object(r["createElementVNode"])("p",null,"商品描述："+Object(r["toDisplayString"])(n.product.description),1),Object(r["createElementVNode"])("p",null,"商品內容："+Object(r["toDisplayString"])(n.product.content),1),Object(r["createElementVNode"])("div",x,Object(r["toDisplayString"])(n.product.price)+" 元",1),Object(r["createElementVNode"])("del",D,"原價 "+Object(r["toDisplayString"])(n.product.origin_price)+" 元",1),Object(r["createElementVNode"])("div",null,[Object(r["createElementVNode"])("div",B,[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[0]||(e[0]=function(t){return c.productQty=t})},null,512),[[r["vModelText"],c.productQty]]),Object(r["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=function(){return a.addCarts&&a.addCarts.apply(a,arguments)})}," 加入購物車 ")])])])])])])])],512)}var U=n("7b17"),$={props:["product"],data:function(){return{modal:{},productQty:1}},methods:{openModal:function(){this.productQty=1,this.modal.show()},hideModal:function(){this.modal.hide()},addCarts:function(){var t={product_id:this.product.id,qty:this.productQty};this.$emit("addCarts","add",t)}},mounted:function(){this.modal=new U["b"](document.getElementById("productModal"),{})}},Q=n("d959"),q=n.n(Q);const z=q()($,[["render",_]]);var A=z,F=n("1799"),J={data:function(){return{products:[],tempProduct:{},pagination:{},cart:{carts:[]},order:{user:{},message:""},apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"kn99"}},components:{ProductModal:A,Pagination:F["a"]},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=this.$loading.show();this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/products?page=").concat(e)).then((function(e){n.hide(),t.products=e.data.products,t.pagination=e.data.pagination})).catch((function(t){console.log(t.response)}))},openProductModal:function(t){this.tempProduct=Object(h["a"])({},t),this.$refs.productModal.openModal()},hideProductModal:function(){this.$refs.productModal.hideModal()},getCarts:function(){var t=this,e=this.$loading.show();this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart")).then((function(n){e.hide(),t.cart=n.data.data})).catch((function(t){console.log(t.response)}))},updateCarts:function(t,e){var n=this,r=e.id,o=e.product_id,c=e.qty,a="post",i="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart/");"edit"===t&&(a="put",i="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart/").concat(r)),this.axios[a](i,{data:{product_id:o,qty:c}}).then((function(t){n.hideProductModal();var e=t.data.data.product;O.a.fire("".concat(e.title," ").concat(c," ").concat(e.unit," 已加入購物車"))})).catch((function(t){console.log(t)}))}},mounted:function(){this.getProducts()}};const L=q()(J,[["render",m]]);e["default"]=L}}]);
//# sourceMappingURL=chunk-dd0f7158.838db33c.js.map